class DOMProcessor{constructor(...a){this.configs=a,document.addEventListener("DOMContentLoaded",()=>{this.init()})}init(){this.configs.forEach(a=>{this.processConfig(a)})}processConfig(a){const{sourceAttributes:b=[],sourceParentAttribute:c=[],targetParentAttribute:d=[],orderTargetParent:e=[],targetParentVisible:f="true"}=a;if("false"===f)return void this.removeElements(a);if(0===d.length)return void console.error("No targetParentAttribute specified in configuration:",a);const g=d[0],h="1",i=document.querySelector(`[${g}="${h}"]`);if(!i)return void console.error(`Template with ${g}="${h}" not found.`);i.style.display="none";let j=0;const k=[];"string"==typeof e?k.push(...e.split(",").map(a=>a.trim()).filter(a=>0<a.length)):Array.isArray(e)&&e.forEach(a=>{if("string"==typeof a&&a.includes(",")){const b=a.split(",").map(a=>a.trim()).filter(a=>0<a.length);k.push(...b)}else"string"==typeof a&&k.push(a.trim())});const l=[];c.forEach(a=>{const c=document.querySelectorAll(`[${a}]`);c.forEach(a=>{l.push(a);const c=a.querySelectorAll(".w-dyn-item");c.forEach(a=>{const c=b.map(a=>{let b=[];return a.sourceContainerAttributeTxt&&b.push(`[${a.sourceContainerAttributeTxt}]`),a.sourceContainerAttributeImg&&b.push(`[${a.sourceContainerAttributeImg}]`),b.join(", ")}).filter(a=>a).join(", "),d=a.querySelectorAll(c);if(0===d.length)return;const e=i.cloneNode(!0);e.style.display="",e.id="";const f=j+1;e.setAttribute(g,f),i.parentNode.appendChild(e);let h=k[j];h!==void 0&&(h=parseInt(h,10),isNaN(h)?console.warn(`Invalid order value at position ${j}:`,h):e.style.order=h),j++,d.forEach(a=>{this.processChild3(a,e,b)})})})}),i.parentNode.removeChild(i),l.forEach(a=>{a.parentNode.removeChild(a)})}processChild3(a,b,c){let d,e,f,g;if(c.forEach(b=>{b.sourceContainerAttributeTxt&&a.hasAttribute(b.sourceContainerAttributeTxt)&&(d="txt",e=a.getAttribute(b.sourceContainerAttributeTxt),f=a.textContent,g=b.targetContainerAttributeTxt),b.sourceContainerAttributeImg&&a.hasAttribute(b.sourceContainerAttributeImg)&&(d="img",e=a.getAttribute(b.sourceContainerAttributeImg),f=a.src,g=b.targetContainerAttributeImg)}),!e||!g)return;const h=`[${g}="${e}"]`,i=b.querySelectorAll(h);i.forEach(a=>{"txt"===d?a.textContent=f:"img"==d&&(a.src=f)})}removeElements(a){const{sourceParentAttribute:b=[],targetParentAttribute:c=[]}=a;b.forEach(a=>{const b=document.querySelectorAll(`[${a}]`);b.forEach(a=>{a.parentNode&&a.parentNode.removeChild(a)})}),c.forEach(a=>{const b=document.querySelectorAll(`[${a}]`);b.forEach(a=>{a.parentNode&&a.parentNode.removeChild(a)})})}}window.DOMProcessor=DOMProcessor;