class DOMProcessor{constructor(...a){this.configs=a,document.addEventListener("DOMContentLoaded",()=>{this.init()})}init(){this.configs.forEach(a=>{this.processConfig(a)})}processConfig(a){const{sourceAttributes:b=[],sourceParentAttribute:c=[],targetParentAttribute:d=[],orderTargetParent:e=[]}=a;if(0===d.length)return void console.error("No targetParentAttribute specified in configuration:",a);const f=d[0],g="1",h=document.querySelector(`[${f}="${g}"]`);if(!h)return void console.error(`Template with ${f}="${g}" not found.`);h.style.display="none";let i=0;const j=[];c.forEach(a=>{const c=document.querySelectorAll(`[${a}]`);c.forEach(a=>{j.push(a);const c=a.querySelectorAll(".w-dyn-item");c.forEach(a=>{const c=a.querySelectorAll(b.map(a=>`[${a.sourceContainerAttributeTxt}], [${a.sourceContainerAttributeImg}]`).join(", "));if(0===c.length)return;const d=h.cloneNode(!0);d.style.display="",d.id="";const g=i+1;d.setAttribute(f,g),h.parentNode.appendChild(d);let j=e[i];j!==void 0&&(j=parseInt(j,10),isNaN(j)?console.warn(`Invalid order value at position ${i}:`,j):d.style.order=j),i++,c.forEach(a=>{this.processChild3(a,d,b)})})})}),h.parentNode.removeChild(h),j.forEach(a=>{a.parentNode.removeChild(a)})}processChild3(a,b,c){let d,e,f,g;if(c.forEach(b=>{a.hasAttribute(b.sourceContainerAttributeTxt)?(d="txt",e=a.getAttribute(b.sourceContainerAttributeTxt),f=a.textContent,g=b.targetContainerAttributeTxt):a.hasAttribute(b.sourceContainerAttributeImg)&&(d="img",e=a.getAttribute(b.sourceContainerAttributeImg),f=a.src,g=b.targetContainerAttributeImg)}),!e||!g)return;const h=`[${g}="${e}"]`,i=b.querySelectorAll(h);i.forEach(a=>{"txt"===d?a.textContent=f:"img"==d&&(a.src=f)})}}window.DOMProcessor=DOMProcessor;