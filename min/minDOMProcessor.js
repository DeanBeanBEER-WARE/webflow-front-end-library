class DOMProcessor{constructor(...a){this.configs=a,document.addEventListener("DOMContentLoaded",()=>{this.init()})}init(){this.configs.forEach(a=>{this.processConfig(a)})}processConfig(a){const{sourceAttributes:b=[],sourceParentAttribute:c=[],targetParentAttribute:d=[],orderTargetParent:e=[]}=a;if(0===d.length)return void console.error("No targetParentAttribute specified in configuration:",a);const f=d[0],g="1",h=document.querySelector(`[${f}="${g}"]`);if(!h)return void console.error(`Template with ${f}="${g}" not found.`);h.style.display="none";let i=0;const j=[];c.forEach(a=>{const c=document.querySelectorAll(`[${a}]`);c.forEach(a=>{j.push(a);const c=a.querySelectorAll(".w-dyn-item");c.forEach(a=>{const c=b.map(a=>{let b=[];return a.sourceContainerAttributeTxt&&b.push(`[${a.sourceContainerAttributeTxt}]`),a.sourceContainerAttributeImg&&b.push(`[${a.sourceContainerAttributeImg}]`),b.join(", ")}).filter(a=>a).join(", "),d=a.querySelectorAll(c);if(0===d.length)return;const g=h.cloneNode(!0);g.style.display="",g.id="";const j=i+1;g.setAttribute(f,j),h.parentNode.appendChild(g);let k=e[i];k!==void 0&&(k=parseInt(k,10),isNaN(k)?console.warn(`Invalid order value at position ${i}:`,k):g.style.order=k),i++,d.forEach(a=>{this.processChild3(a,g,b)})})})}),h.parentNode.removeChild(h),j.forEach(a=>{a.parentNode.removeChild(a)})}processChild3(a,b,c){let d,e,f,g;if(c.forEach(b=>{b.sourceContainerAttributeTxt&&a.hasAttribute(b.sourceContainerAttributeTxt)&&(d="txt",e=a.getAttribute(b.sourceContainerAttributeTxt),f=a.textContent,g=b.targetContainerAttributeTxt),b.sourceContainerAttributeImg&&a.hasAttribute(b.sourceContainerAttributeImg)&&(d="img",e=a.getAttribute(b.sourceContainerAttributeImg),f=a.src,g=b.targetContainerAttributeImg)}),!e||!g)return;const h=`[${g}="${e}"]`,i=b.querySelectorAll(h);i.forEach(a=>{"txt"===d?a.textContent=f:"img"==d&&(a.src=f)})}}window.DOMProcessor=DOMProcessor;