class Slider{constructor(a){if(!Array.isArray(a))throw new Error("Invalid sliderConfigs parameter. Expected an array.");this.sliders=a.map(a=>({sliderDotId:"",sliderDotParentId:"",slideElementId:"",initialPositionPercentage:0,frameRateSliderElement:60,...a,dot:null,parent:null,slide:null})),this.init=this.init.bind(this),this._ready(this.init),this.debouncedResize=this.debounce(()=>{this.sliders.forEach(a=>{a.dot&&a.parent&&a.slide&&(this.updateDimensions(a),this.setInitialPosition(a,a.dot,a.parent,a.slide))})},100),window.addEventListener("resize",this.debouncedResize)}init(){this.sliders.forEach(a=>{const{sliderDotId:b,sliderDotParentId:c,slideElementId:d,initialPositionPercentage:e,frameRateSliderElement:f}=a,g=document.getElementById(b),h=document.getElementById(c),i=document.getElementById(d);if(g&&h&&i){if(void 0===e||void 0===f)return void console.error("Missing numerical values for initialPositionPercentage or frameRateSliderElement");a.dot=g,a.parent=h,a.slide=i,Object.assign(a,{isDragging:!1,startX:0,startY:0,initialX:0,initialY:0,cursorType:["grab","grabbing"],moveListeners:[],endListeners:[],throttleTimeout:null}),this.setCursor(g,a.cursorType[0]),["mousedown","touchstart"].forEach(b=>{g.addEventListener(b,b=>this.handleStart(b,a))}),this.updateDimensions(a),this.setInitialPosition(a,g,h,i)}else console.error(`Missing or invalid IDs: ${b}, ${c}, ${d}`)})}setInitialPosition(a,b,c,d){const e=c.offsetWidth-b.offsetWidth,f=e*a.initialPositionPercentage/100;this.updateSliderPosition(a,f,b,d,c)}setCursor(a,b){a.style.cursor=b,a.style.cursor=`-webkit-${b}`}handleStart(a,b){a.preventDefault(),b.isDragging=!0;const{clientX:c,clientY:d}="mousedown"===a.type?a:a.touches[0];Object.assign(b,{startX:c,startY:d,initialX:b.dot.offsetLeft,initialY:b.dot.offsetTop}),this.setCursor(b.dot,b.cursorType[1]),["mousemove","touchmove"].forEach(a=>{const c=a=>this.throttledHandleMove(a,b);document.addEventListener(a,c),b.moveListeners.push({evt:a,listener:c})}),["mouseup","touchend","touchcancel"].forEach(a=>{const c=()=>this.handleEnd(b);document.addEventListener(a,c),b.endListeners.push({evt:a,listener:c})})}throttledHandleMove(a,b){b.throttleTimeout||(b.throttleTimeout=setTimeout(()=>{if(b.throttleTimeout=null,b.isDragging){const c="mousemove"===a.type?a.clientX:a.touches&&a.touches[0]?a.touches[0].clientX:null;if(null===c)return;const d=c-b.startX,e=b.initialX+d;this.updateSliderPosition(b,e,b.dot,b.slide,b.parent),(0>=e||e+b.dot.offsetWidth>=b.parent.offsetWidth)&&a.preventDefault()}},1e3/b.frameRateSliderElement))}handleEnd(a){a.isDragging=!1,this.removeEventListeners(a),this.setCursor(a.dot,a.cursorType[0])}removeEventListeners(a){a.moveListeners.forEach(({evt:a,listener:b})=>{document.removeEventListener(a,b)}),a.endListeners.forEach(({evt:a,listener:b})=>{document.removeEventListener(a,b)}),a.moveListeners=[],a.endListeners=[],a.throttleTimeout&&(clearTimeout(a.throttleTimeout),a.throttleTimeout=null)}updateDimensions(a){a.parent&&a.dot&&a.slide?(a.parentWidth=a.parent.offsetWidth,a.dotWidth=a.dot.offsetWidth,a.slideWidth=a.slide.offsetWidth,a.cardParentWidth=a.slide.parentElement?a.slide.parentElement.offsetWidth:0):console.warn("One or more elements are missing during updateDimensions.")}updateSliderPosition(a,b,c,d){const e=a.parentWidth-a.dotWidth,f=Math.min(Math.max(b,0),e),g=-(f/e)*(a.slideWidth-a.cardParentWidth);c.style.left=`${f}px`,d.style.left=`${g}px`}_ready(a){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a()}debounce(a,b){let c;return function(...d){const e=()=>{clearTimeout(c),a.apply(this,d)};clearTimeout(c),c=setTimeout(e,b)}}}window.Slider=Slider;