class CustomCursor{constructor({cursorClass:a="custom-cursor",hoverArray:b=[],downArray:c=[],dragTimer:d=50,downTime:e=300}={}){this.config={cursorClass:a,hoverArray:b,downArray:c,dragTimer:d,downTime:e},document.addEventListener("DOMContentLoaded",()=>this.init())}init(){this.cursor=document.createElement("div"),this.cursor.classList.add(this.config.cursorClass),document.body.appendChild(this.cursor),document.body.style.cursor="none",Object.assign(this,{hoverArray:this.config.hoverArray,downArray:this.config.downArray,dragTimer:this.config.dragTimer,downTime:this.config.downTime,mouseX:0,mouseY:0,cursorX:0,cursorY:0,isHover:!1,isDown:!1,downTimeouts:new Map}),this.mouseMoveHandler=this.onMouseMove.bind(this),this.mouseOutHandler=this.onMouseOut.bind(this),this.mouseOverHandler=this.onMouseOver.bind(this),document.addEventListener("mousemove",this.mouseMoveHandler),document.addEventListener("mouseout",this.mouseOutHandler),document.addEventListener("mouseover",this.mouseOverHandler),this.animate(),this.setupEvents(),this.setupMobileHandling()}onMouseMove(a){[this.mouseX,this.mouseY]=[a.clientX,a.clientY]}onMouseOut(a){this.cursor.style.opacity=a.relatedTarget?"1":"0"}onMouseOver(a){this.cursor.style.opacity=a.relatedTarget?"1":"0"}animate(){const a=this.mouseX-this.cursorX,b=this.mouseY-this.cursorY;this.cursorX+=a*(this.dragTimer/100),this.cursorY+=b*(this.dragTimer/100),this.cursor.style.transform=`translate(${this.cursorX}px, ${this.cursorY}px) translate(-50%, -50%)`,requestAnimationFrame(this.animate.bind(this))}setupEvents(){const a=(a,b,c)=>{a.forEach(({trigger:a,hoverstyle:d})=>{document.querySelectorAll(`.${a}`).forEach(a=>{a.addEventListener(b,()=>c(a,d))})})};a(this.hoverArray,"mouseenter",(a,b)=>{this.isHover=!0,this.cursor.classList.add(b)}),a(this.hoverArray,"mouseleave",(a,b)=>{this.isHover=!1,this.cursor.classList.remove(b)}),this.downArray.forEach(({trigger:a,hoverstyle:b})=>{document.querySelectorAll(`.${a}`).forEach(a=>{a.addEventListener("mousedown",()=>this.handleMouseDown(a,b))})})}handleMouseDown(a,b){this.isDown=!0,this.cursor.classList.add(b);const c=Date.now(),d=()=>{this.isDown=!1;const e=Date.now()-c,f=e>=this.downTime?0:this.downTime-e;setTimeout(()=>{this.isDown||this.cursor.classList.remove(b)},f),a.removeEventListener("mouseup",d),a.removeEventListener("mouseleave",d)};a.addEventListener("mouseup",d),a.addEventListener("mouseleave",d)}setupMobileHandling(){if(!this.isTouchDevice())return;const a=10;let b={};const c=`.${this.config.cursorClass}`,d=a=>{a.dataset.initialized||(a.style.opacity="0",a.dataset.initialized="true")};document.querySelectorAll(c).forEach(d),new MutationObserver(a=>{a.forEach(({addedNodes:a})=>{a.forEach(a=>{1===a.nodeType&&[a,...a.querySelectorAll(c)].forEach(a=>{d(a)})})})}).observe(document.body,{childList:!0,subtree:!0});const e=({changedTouches:c})=>{if(1<c.length)return;const d=c[0],{x:e,y:f,time:g}={x:d.clientX,y:d.clientY,time:Date.now()},{x:h,y:i,time:j}=b,k=Math.abs(e-h),l=Math.abs(f-i);k<=a&&l<=a&&g-j<=500&&this.triggerCursorEffect()};document.addEventListener("touchstart",({touches:a})=>{if(!(1<a.length)){const c=a[0];b={x:c.clientX,y:c.clientY,time:Date.now()}}},{passive:!0}),document.addEventListener("touchend",e,{passive:!0})}isTouchDevice(){return"ontouchstart"in window||0<navigator.maxTouchPoints}triggerCursorEffect(){const a=document.querySelectorAll(`.${this.config.cursorClass}`);a.forEach(a=>a.style.opacity="1"),setTimeout(()=>a.forEach(a=>a.style.opacity="0"),500)}destroy(){this.cursor.remove(),document.body.style.cursor="",document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("mouseout",this.mouseOutHandler),document.removeEventListener("mouseover",this.mouseOverHandler)}}window.CustomCursor=CustomCursor;